{"ast":null,"code":"var _jsxFileName = \"/Users/vincentwu/Documents/GitHub/csc648-03-fa19-Team101/application/team-website/src/components/SingUpForm.js\";\nimport React from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { Route } from 'react-router-dom';\nimport Login from '../pages/Login';\nimport './SingUpForm.css';\n\nclass SignUpForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      pass1: '',\n      pass2: '',\n      validAccountCreation: false,\n      failedAccountCreation: false,\n      errorMessage: ''\n    };\n\n    this.handleCreateAccount = () => {\n      if (this.validAccountCredentials()) {\n        const req = new XMLHttpRequest();\n\n        req.onreadystatechange = () => {\n          if (req.response === 'success') {\n            this.setState({\n              validAccountCreation: true\n            });\n          } else if (this.response === 'user exists') {\n            this.setState({\n              failedAccountCreation: true,\n              errorMessage: 'A User With that Email Already Exists'\n            });\n          }\n        };\n\n        const formData = new FormData();\n        formData.append('email', this.state.email);\n        formData.append('password', this.state.pass1);\n        formData.append('first_name', this.state.firstName);\n        formData.append('last_name', this.state.lastName);\n        req.open('POST', 'http://cryptoflipit.com/backend/register');\n        req.send(formData);\n      } else {\n        // It shouldn't be possible to get here\n        this.setState({\n          failedAccountCreation: true,\n          errorMessage: 'Incorrect Password or Empty Inputs'\n        });\n      }\n    };\n\n    this.validAccountCredentials = () => {\n      return this.validPassword() && this.validUser();\n    };\n\n    this.validPassword = () => {\n      return this.state.pass1 === this.state.pass2 && this.state.pass1 !== '';\n    };\n\n    this.validUser = () => {\n      return this.state.firstName !== '' && this.state.lastName !== '' && this.state.email !== '';\n    };\n  }\n\n  render() {\n    if (this.state.validAccountCreation) {\n      return React.createElement(Route, {\n        exact: true,\n        path: \"/Login\",\n        component: Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"sign-up-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"font-weight-bold \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Pantry Raid\")), React.createElement(\"pre\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.state.errorMessage)), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(Form.Control, {\n      type: \"first name\",\n      placeholder: \"Enter First Name\",\n      onChange: event => this.setState({\n        firstName: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(Form.Control, {\n      type: \"last name\",\n      placeholder: \"Enter Last Name\",\n      onChange: event => this.setState({\n        lastName: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      onChange: event => this.setState({\n        email: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: event => this.setState({\n        pass1: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Re-enter Password\"), React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: event => this.setState({\n        pass2: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"primary\",\n      className: \"mt-3 btn-lg btn-block btn-dark\" //disabled={!this.validAccountCredentials()} // TODO: Why doesn't this do anything?\n      ,\n      onClick: this.handleCreateAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Create Account\"), React.createElement(\"p\", {\n      className: \"mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Already have an account?\"), React.createElement(Button, {\n      variant: \"primary\",\n      className: \"btn-lg btn-block\",\n      onClick: this.props.signIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Sign in\")));\n  }\n\n}\n\nexport default SignUpForm;","map":{"version":3,"sources":["/Users/vincentwu/Documents/GitHub/csc648-03-fa19-Team101/application/team-website/src/components/SingUpForm.js"],"names":["React","Button","Form","Route","Login","SignUpForm","Component","state","firstName","lastName","email","pass1","pass2","validAccountCreation","failedAccountCreation","errorMessage","handleCreateAccount","validAccountCredentials","req","XMLHttpRequest","onreadystatechange","response","setState","formData","FormData","append","open","send","validPassword","validUser","render","event","target","value","props","signIn"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport {Button, Form} from 'react-bootstrap'\nimport {Route} from 'react-router-dom';\nimport Login from '../pages/Login'\nimport './SingUpForm.css'\n\nclass SignUpForm extends React.Component {\n\n  state = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    pass1: '',\n    pass2: '',\n    validAccountCreation: false,\n    failedAccountCreation: false,\n    errorMessage: ''\n  };\n\n  //post create account\n  //create the user if valid account returns true\n  handleCreateAccount = () => {\n    if (this.validAccountCredentials()) {\n      const req = new XMLHttpRequest();\n      req.onreadystatechange = () => {\n        if (req.response === 'success') {\n          this.setState({validAccountCreation: true});\n        } else if (this.response === 'user exists') {\n          this.setState({\n            failedAccountCreation: true,\n            errorMessage: 'A User With that Email Already Exists'\n          });\n        }\n      };\n\n      const formData = new FormData();\n      formData.append('email', this.state.email);\n      formData.append('password', this.state.pass1);\n      formData.append('first_name', this.state.firstName);\n      formData.append('last_name', this.state.lastName);\n\n      req.open('POST', 'http://cryptoflipit.com/backend/register');\n      req.send(formData);\n    } else {\n      // It shouldn't be possible to get here\n      this.setState({\n        failedAccountCreation: true,\n        errorMessage: 'Incorrect Password or Empty Inputs'\n      });\n    }\n  };\n\n  validAccountCredentials = () => {\n    return (this.validPassword() && this.validUser());\n  };\n\n  validPassword = () => {\n    return (this.state.pass1 === this.state.pass2 && this.state.pass1 !== '')\n  };\n\n  validUser = () => {\n    return (this.state.firstName !== '' && this.state.lastName !== '' && this.state.email !== '')\n  };\n\n  render() {\n    if (this.state.validAccountCreation) {\n      return (\n        <Route exact path='/Login' component={Login}/>\n      );\n    }\n    return (\n      <div className='sign-up-form'>\n        <Form>\n          <h1 className='text-center'>\n            <span className='font-weight-bold '>Pantry Raid</span>\n          </h1>\n          <pre><h2 className='text-center'>{this.state.errorMessage}</h2></pre>\n\n          <Form.Group controlId='formBasicEmail'>\n            <Form.Label>First Name</Form.Label>\n            <Form.Control\n              type='first name'\n              placeholder='Enter First Name'\n              onChange={(event) => this.setState({firstName: event.target.value})}/>\n          </Form.Group>\n\n          <Form.Group controlId='formBasicEmail'>\n            <Form.Label>Last Name</Form.Label>\n            <Form.Control\n              type='last name'\n              placeholder='Enter Last Name'\n              onChange={(event) => this.setState({lastName: event.target.value})}/>\n          </Form.Group>\n\n          <Form.Group controlId='formBasicEmail'>\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              type='email'\n              placeholder='Enter email'\n              onChange={(event) => this.setState({email: event.target.value})}/>\n          </Form.Group>\n\n          <Form.Group controlId='formBasicPassword'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type='password'\n              placeholder='Password'\n              onChange={(event) => this.setState({pass1: event.target.value})}/>\n          </Form.Group>\n\n          <Form.Group controlId='formBasicPassword'>\n            <Form.Label>Re-enter Password</Form.Label>\n            <Form.Control\n              type='password'\n              placeholder='Password'\n              onChange={(event) => this.setState({pass2: event.target.value})}/>\n          </Form.Group>\n\n          <Button\n            variant='primary'\n            className='mt-3 btn-lg btn-block btn-dark'\n            //disabled={!this.validAccountCredentials()} // TODO: Why doesn't this do anything?\n            onClick={this.handleCreateAccount}>\n            Create Account\n          </Button>\n\n          <p className='mt-3'>Already have an account?</p>\n          <Button\n            variant='primary'\n            className='btn-lg btn-block'\n            onClick={this.props.signIn}>\n            Sign in\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n\n\nexport default SignUpForm;"]},"metadata":{},"sourceType":"module"}